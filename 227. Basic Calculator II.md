# [227. Basic Calculator II)(https://leetcode.com/problems/basic-calculator-ii/description/?envType=company&envId=facebook&favoriteSlug=facebook-three-months)

Medium

### Basics
NOT round the number up/down to the nearest integer, but simply remove the decimals (or we say "truncate toward 0"):
- `int()` 
- `math.trunc()`

### Solutions
 - Method 1:\
   Stack.

   Idea:
   - use `op` to represent sign of the integer
   - when meet an operator, evaluate previous number w/ its operator. Then do operations and move forward on s.

TC, SC: O(n)

```python
class Solution:
    def calculate(self, s: str) -> int:
        ### Method 1:
        ## Stack
        stack = []
        curr_num = 0
        op = '+'
        s += op

        for ele in s:
            if ele == ' ':
                continue
            elif ele.isdigit():
                curr_num = curr_num * 10 + int(ele)
            else:
                if op == '+':
                    stack.append(curr_num)
                elif op == '-':
                    stack.append(-curr_num)
                elif op == '*':
                    num = stack.pop()
                    stack.append(curr_num * num)
                elif op == '/':
                    num = stack.pop()
                    stack.append(int(num / curr_num))  # or: math.trunc()
                curr_num = 0
                op = ele

        return sum(stack)
```

 - Method 2:\
   Optimised w/o stack.

   Idea:
   - stack is used to store previous numbers, and last number is more important (becoz it may need to pop out and do */ operation).
   - so use `last_num` to represent last_number whenever we evaluate the previous number.
     
   TC: O(n), SC: O(1)

```python
class Solution:
    def calculate(self, s: str) -> int:
        ### Method 2:
        ## Optimised w/o stack
        curr_num = 0
        prev_num = 0
        ans = 0
        op = '+'
        s += op

        for ele in s:
            if ele == ' ':
                continue
            elif ele.isdigit():
                curr_num = curr_num * 10 + int(ele)
            else:
                if op == '+':
                    ans += curr_num
                    prev_num = curr_num
                elif op == '-':
                    ans += (-curr_num)
                    prev_num = (-curr_num)
                elif op == '*':
                    ans -= prev_num
                    ans += (curr_num * prev_num)
                    prev_num = (curr_num * prev_num)
                elif op == '/':
                    ans -= prev_num
                    ans += int(prev_num / curr_num)  # or: math.trunc()
                    prev_num = int(prev_num / curr_num)
                curr_num = 0
                op = ele

        return ans
```
